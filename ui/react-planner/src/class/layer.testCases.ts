import { cloneDeep } from '../utils/export';

const CASE_LINES_INTERSECT = {
  input: [
    { x0: 1, y0: 0.5, x1: 5.0, y1: 0.5 },
    { x0: 4.5, y0: 1, x1: 4.5, y1: 4 },
    { x0: 0, y0: 4.5, x1: 5, y1: 4.5 },
    { x0: 0.5, y0: 4, x1: 0.5, y1: 0 },
  ],
  expectedOutput: {
    nrOfAreas: 1,
    coordsByArea: {
      0: [
        [
          [1.0096677814949913, 1.0096677807165362],
          [3.989690550030925, 1.0096677807165362],
          [3.989690550030925, 3.9896905497026687],
          [1.0096677814949913, 3.9896905497026687],
          [1.0096677814949913, 1.0096677807165362],
        ],
      ],
    },
  },
};

const CASE_NOT_INTERSECT = {
  input: [
    { x0: 1, y0: 0.5, x1: 5.0, y1: 0.5 },
    { x0: 4.5, y0: 1, x1: 4.5, y1: 4 },
    { x0: 0, y0: 4.5, x1: 5, y1: 4.5 },
  ],
  expectedOutput: {
    nrOfAreas: 0,
    coordsByArea: undefined,
  },
};

const CASE_LINES_INTERSECT_SPLITTED = {
  input: [...CASE_LINES_INTERSECT.input, { x0: 2.5, y0: 1, x1: 2.5, y1: 4 }],
  expectedOutput: {
    nrOfAreas: 2,
    coordsByArea: {
      0: [
        [
          [1.0096677814949913, 1.0096677807165362],
          [1.9903924953837315, 1.0096677807165362],
          [1.9903924953837315, 3.9896905497026687],
          [1.0096677814949913, 3.9896905497026687],
          [1.0096677814949913, 1.0096677807165362],
        ],
      ],
      1: [
        [
          [3.0100790310501173, 1.0096677807165362],
          [3.989690550030925, 1.0096677807165362],
          [3.989690550030925, 3.9896905497026687],
          [3.0100790310501173, 3.9896905497026687],
          [3.0100790310501173, 1.0096677807165362],
        ],
      ],
    },
  },
};

const CASE_SEPARATED_SHAPES = {
  input: [
    { x0: 1, y0: 0.5, x1: 5.0, y1: 0.5 },
    { x0: 4.5, y0: 1, x1: 4.5, y1: 4 },
    { x0: 0, y0: 4.5, x1: 5, y1: 4.5 },
    { x0: 0.5, y0: 4, x1: 0.5, y1: 0 },
    { x0: 10, y0: 0.5, x1: 15.0, y1: 0.5 },
    { x0: 14.5, y0: 1, x1: 14.5, y1: 4 },
    { x0: 10, y0: 4.5, x1: 15, y1: 4.5 },
    { x0: 10.5, y0: 4, x1: 10.5, y1: 0 },
  ],
  expectedOutput: {
    nrOfAreas: 2,
    coordsByArea: {
      0: [
        [
          [1.0096677814949913, 1.0096677807165362],
          [3.989690550030925, 1.0096677807165362],
          [3.989690550030925, 3.9896905497026687],
          [1.0096677814949913, 3.9896905497026687],
          [1.0096677814949913, 1.0096677807165362],
        ],
      ],
      1: [
        [
          [11.009497639454757, 1.0096677807165362],
          [13.98952040799069, 1.0096677807165362],
          [13.98952040799069, 3.9896905497026687],
          [11.009497639454757, 3.9896905497026687],
          [11.009497639454757, 1.0096677807165362],
        ],
      ],
    },
  },
};

const CASE_LINES_INTERSECT_WITH_A_LINE_NOT_CONNECTED_INSIDE = {
  input: [
    { x0: 1, y0: 0.5, x1: 5.0, y1: 0.5 },
    { x0: 4.5, y0: 1, x1: 4.5, y1: 4 },
    { x0: 0, y0: 4.5, x1: 5, y1: 4.5 },
    { x0: 0.5, y0: 4, x1: 0.5, y1: 0 },
    { x0: 2.0, y0: 2.5, x1: 3.0, y1: 2.5 },
  ],
  expectedOutput: {
    nrOfAreas: 1,
    coordsByArea: {
      0: [
        // exterior
        [
          [1.0096677814949913, 1.0096677807165362],
          [3.989690550030925, 1.0096677807165362],
          [3.989690550030925, 3.9896905497026687],
          [1.0096677814949913, 3.9896905497026687],
          [1.0096677814949913, 1.0096677807165362],
        ], //hole
        [
          [1.9903924953837315, 1.9959584684986689],
          [1.9903924953837315, 3.0000602772721034],
          [1.9915056902916644, 3.005626251904138],
          [1.9981848597392604, 3.010079029906792],
          [3.002286666694588, 3.010079029906792],
          [3.0056262514183865, 3.0078526409058535],
          [3.0100790310501173, 3.002286666275762],
          [3.0100790310501173, 1.9981848592690554],
          [3.0067394463263195, 1.9926188851740927],
          [3.003399861602521, 1.9903924944017632],
          [1.995958469923395, 1.9903924944017632],
          [1.992618885199597, 1.9926188851740927],
          [1.9903924953837315, 1.9959584684986689],
        ],
      ],
    },
  },
};

const CASE_LINES_INTERSECT_WITH_LINES_INTERSECTING_INSIDE = {
  input: [
    // big outter square
    { x0: 1, y0: 0.5, x1: 10.0, y1: 0.5 },
    { x0: 9.5, y0: 1, x1: 9.5, y1: 9 },
    { x0: 0, y0: 9.5, x1: 10, y1: 9.5 },
    { x0: 0.5, y0: 9, x1: 0.5, y1: 0 },
    // inner square
    { x0: 3, y0: 3, x1: 6.0, y1: 3 },
    { x0: 5.5, y0: 3, x1: 5.5, y1: 6 },
    { x0: 6, y0: 5.5, x1: 3, y1: 5.5 },
    { x0: 2.5, y0: 6, x1: 2.5, y1: 3 },
  ],
  expectedOutput: {
    nrOfAreas: 2,
    coordsByArea: {
      0: [
        [
          [1.0096677814949913, 1.0096677807165362],
          [8.990162076464776, 1.0096677807165362],
          [8.990162076464776, 8.990162076991393],
          [1.0096677814949913, 8.990162076991393],
          [1.0096677814949913, 1.0096677807165362],
        ],
        [
          [1.9903924953837315, 2.996720691640813],
          [1.9903924953837315, 6.000120553982478],
          [1.9915056902916644, 6.005686527412696],
          [1.9981848597392604, 6.010139307569602],
          [6.002346943573311, 6.010139307569602],
          [6.005686528297109, 6.007912918199652],
          [6.010139307928841, 6.002346943355147],
          [6.010139307928841, 2.4980093735255813],
          [6.006799723205042, 2.4924433984505674],
          [6.003460138481244, 2.49021700926894],
          [3.000060276878723, 2.49021700926894],
          [2.994494302339059, 2.491330203151736],
          [2.991154717615261, 2.4946697876314174],
          [2.9900415227073283, 2.4980093735255813],
          [2.9900415227073283, 2.9900415232054467],
          [2.000411249555126, 2.9900415232054467],
          [1.9948452750154626, 2.991154717001007],
          [1.9903924953837315, 2.996720691640813],
        ],
      ],
      1: [
        [
          [3.0100790310501173, 3.5099035441748416],
          [4.990452772262454, 3.5099035441748416],
          [4.990452772262454, 4.9904527715887115],
          [3.0100790310501173, 4.9904527715887115],
          [3.0100790310501173, 3.5099035441748416],
        ],
      ],
    },
  },
};

const CASE_WITH_A_SCALE_AREA = cloneDeep(CASE_LINES_INTERSECT);

const SQUARE_AREA_VERTICES = [
  { x: 0, y: 0 },
  { x: 100, y: 0 },
  { x: 100, y: 100 },
  { x: 0, y: 100 },
  { x: 0, y: 0 },
];

export default {
  CASE_LINES_INTERSECT,
  CASE_LINES_INTERSECT_SPLITTED,
  CASE_NOT_INTERSECT,
  CASE_SEPARATED_SHAPES,
  CASE_LINES_INTERSECT_WITH_A_LINE_NOT_CONNECTED_INSIDE,
  CASE_LINES_INTERSECT_WITH_LINES_INTERSECTING_INSIDE,
  CASE_WITH_A_SCALE_AREA,
  SQUARE_AREA_VERTICES,
};
